<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Privcy Checklist</title>

	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/reset.css">
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/site.css">

	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/container.css">
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/grid.css">
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/header.css">
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/image.css">
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/menu.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/checkbox.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/form.css">

	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/divider.css">
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/dropdown.css">
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/segment.css">
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/button.css">
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/list.css">
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/icon.css">
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/sidebar.css">
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/transition.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/dimmer.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/modal.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/sticky.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/progress.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/label.css">

	<style type="text/css">

        .overlay {
            float: left;
            margin: 0em 3em 1em 0em;
        }
        .overlay .menu {
            position: relative;
            left: 0;
            transition: left 0.5s ease;
        }

        .overlay.fixed .menu {
            left: 800px;
        }

		.hidden.menu {display: none;}

        i{ cursor: pointer;}            

		.masthead.segment {
		min-height: 80px;
		padding: 1em 0em;
		}
		.masthead .logo.item img {
		margin-right: 1em;
		}
		.masthead .ui.menu .ui.button {
		margin-left: 0.5em;
		}
		.masthead h1.ui.header {
		margin-top: 3em;
		margin-bottom: 0em;
		font-size: 4em;
		font-weight: normal;
		}
		.masthead h2 {
		font-size: 1.7em;
		font-weight: normal;
		}

		.ui.vertical.stripe {
		padding: 8em 0em;
		}
		.ui.vertical.stripe h3 {
		font-size: 2em;
		}
		.ui.vertical.stripe .button + h3,
		.ui.vertical.stripe p + h3 {
		margin-top: 3em;
		}
		.ui.vertical.stripe .floated.image {
		clear: both;
		}
		.ui.vertical.stripe p {
		font-size: 1.33em;
		}
		.ui.vertical.stripe .horizontal.divider {
		margin: 3em 0em;
		}

		.quote.stripe.segment {
		padding: 0em;
		}
		.quote.stripe.segment .grid .column {
		padding-top: 5em;
		padding-bottom: 5em;
		}

		.footer.segment {
		padding: 5em 0em;
		}

		.secondary.pointing.menu .toc.item {
		display: none;
		}

		@media only screen and (max-width: 700px) {
		.ui.fixed.menu {
			display: none !important;
		}
		.secondary.pointing.menu .item,
		.secondary.pointing.menu .menu {
			display: none;
		}
		.secondary.pointing.menu .toc.item {
			display: block;
		}
		.masthead.segment {
			min-height: 80px;
		}
		.masthead h1.ui.header {
			font-size: 2em;
			margin-top: 1.5em;
		}
		.masthead h2 {
			margin-top: 0.5em;
			font-size: 1.5em;
		}
		}

        .form{margin-top:10px;}
        .specialprogress{min-width:300px;}
        .specialprogress .progress{min-width:300px;}
        .wrapperprogress{padding:13px;}  
        #readmorebutton{position:absolute; right:0; bottom:-10px;cursor:pointer;font-size: 0.8em;}  
	</style>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/visibility.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/sidebar.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/transition.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/checkbox.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/form.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/modal.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/dimmer.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/progress.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/sticky.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/transition.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.7/components/visibility.js"></script>

	<script>

    var description =   "1MbhFEkIdsWavH3_T-PBUUEanMr7VQeoGvSrYz-1YvqQ";     
    var firstTopicId =  "1GRE2LrxBXLuVKnlVnYgFuN4jL2AIayqR1UZfTIBUTeQ";
    var secondTopicId = "1kxCknRKlTAphQOVN9WNnjzfQx8FwGq8Pdyqopd_cVAk";
    var thirdTopicId =  "1M4ocwg8HFjpwDXo7Z9TVuHPUYtXvz6R04OEDdmrL0qo";
    var fourthTopicId = "1vUI8wJ2ivIPq1m6DTWKSF5NAigN3gUtluarwskQhCg4";
    var fifthTopicId =  "1oyWImEQAQ1obyq_5_m-vyxuFTPN-1zlD4uUQMEn6lB0";

    var descriptionUrl ="https://spreadsheets.google.com/feeds/list/" + description + "/od6/public/values?alt=json";
    var firstTopicUrl = "https://spreadsheets.google.com/feeds/list/" + firstTopicId + "/od6/public/values?alt=json";
    var secondTopicUrl = "https://spreadsheets.google.com/feeds/list/" + secondTopicId + "/od6/public/values?alt=json";
    var thirdTopicUrl = "https://spreadsheets.google.com/feeds/list/" + thirdTopicId + "/od6/public/values?alt=json";
    var fourthTopicUrl = "https://spreadsheets.google.com/feeds/list/" + fourthTopicId + "/od6/public/values?alt=json"; 
    var fifthTopicUrl = "https://spreadsheets.google.com/feeds/list/" + fifthTopicId + "/od6/public/values?alt=json"; 
    
    var contentLabel = ["checklisttitle","checklisttopic"]
    var labels = ["topictitle",	"topicdescription",
                  "sbtp1title","sbtp1description","sbtp1modal","sbfield1","ch1name","ch1val",
                  "sbtp2title","sbtp2description","sbtp2modal","sbfield2","ch2name","ch2val",
                  "sbtp3title","sbtp3description","sbtp3modal","sbfield3","ch3name","ch3val",
                  "sbtp4title","sbtp4description","sbtp4modal","sbfield4","ch4name","ch4val",
                  "sbtp5title","sbtp5description","sbtp5modal","sbfield5","ch5name","ch5val",
                  "sbtp6title","sbtp6description","sbtp6modal","sbfield6","ch6name","ch6val",
                  "sbtp7title","sbtp7description","sbtp7modal","sbfield7","ch7name","ch7val",
                  "sbtp8title","sbtp8description","sbtp8modal","sbfield8","ch8name","ch8val",
                  "sbtp9title","sbtp9description","sbtp9modal","sbfield9","ch9name","ch9val"];

    var subtop =    [labels[2],labels[8],labels[14],labels[20],labels[26],labels[32],labels[38],labels[44],labels[50]];
    var subtopD =   [labels[3],labels[9],labels[15],labels[21],labels[27],labels[33],labels[39],labels[45],labels[51]];
    var modal =     [labels[4],labels[10],labels[16],labels[22],labels[28],labels[34],labels[40],labels[46],labels[52]];
    var subFields = [labels[5],labels[11],labels[17],labels[23],labels[29],labels[35],labels[41],labels[47],labels[53]]; 
    var choiches =  [labels[6],labels[12],labels[18],labels[24],labels[30],labels[36],labels[42],labels[48],labels[54]];
    var values =    [labels[7],labels[13],labels[19],labels[25],labels[31],labels[37],labels[43],labels[49],labels[55]];

    var tocco = "gsx$"; 
    var myData = [];
    var firstTopicObj = {};
    var secondTopicObj = {};
    var thirdTopicObj = {};
    var fourthTopicObj = {};
    var fifthTopicObj = {};
    
    $.get(descriptionUrl, function(data) {
    
	var rows = data.feed.entry;

        $(rows).each(function(index,item){

                $(contentLabel).each(function(inindex,initem){
                    var key = tocco + initem,	
                            content = item[key].$t,	 
                            id =  '#' + initem,
                            div = $(id);

                    if(div.attr('data-edited')=='false') div.empty();
                    div.append(content);        
                    div.attr('data-edited','true');
                   
                });
            
        });

    });


    $.get(firstTopicUrl, function(data) {parseJsonToJson(firstTopicObj,data);createCheckListTopic(firstTopicObj,'first');getsecond();});
    function getsecond() {$.get(secondTopicUrl, function(data) {parseJsonToJson(secondTopicObj,data);createCheckListTopic(secondTopicObj,'second');getthird();});}
    function getthird() {$.get(thirdTopicUrl, function(data) {parseJsonToJson(thirdTopicObj,data);createCheckListTopic(thirdTopicObj,'third');getfourth();});}
    function getfourth() {$.get(fourthTopicUrl, function(data) {parseJsonToJson(fourthTopicObj,data);createCheckListTopic(fourthTopicObj,'fourth');getfifth();});}
    function getfifth() {$.get(fifthTopicUrl, function(data) {parseJsonToJson(fifthTopicObj,data);createCheckListTopic(fifthTopicObj,'fifth'); addProgressBar();initializeUi();});}



    function parseJsonToJson(jsonObj,data){

        var rows = data.feed.entry;

        $(rows).each(function(index,item){

                $(labels).each(function(inindex,initem){

                    var key = tocco + initem;

                    if (item[key]==undefined) return true;
                    	
                    var content = item[key].$t,	 
                        id =  '#' + initem;
                
                    if(content!=""){
                        if(initem.indexOf('ch')>-1 && jsonObj[initem] == undefined )  
                            jsonObj[initem] = [];

                        if(initem.indexOf('ch')>-1){
                            if(initem.indexOf('val')>-1) content = parseInt(content);
                            jsonObj[initem].push(content);
                        }else{ jsonObj[initem] = content; }   
                    }
                            
                        
                });
            
        });

    }

    function createCheckListTopic(json,topic){
        var block =  '<div id="'+topic+'" class="row" ><div class="ten wide column ui segment"><h2 class="ui header">'+ 
                      json.topictitle +'</h2><p>'+
                      json.topicdescription+'</p>';

        block = block +'<div class="ui list">';

        for(index in subtop){
            var subtoptitle = json[subtop[index]];
            
            if(subtoptitle==undefined)continue;
            
            var subfield = json[subFields[index]],
                subtoptitlenospace = subtoptitle.replace(/\s/g, ''),
                subtopDescription = json[subtopD[index]],
                subtopModal = json[modal[index]],
                choichesRound=json[choiches[index]],
                valuesRound=json[values[index]];
                max = Math.max.apply(null, valuesRound);
                
            if (subfield!=undefined){

                block = block + '<div class="item"><h4>'+subfield+'</h4></div>';

            }

            block = block + '<div class="item">'+
                                '<div class="content">'+
                                    '<div class="header">' +subtoptitle+ 
                                    '<i id="' + subtoptitlenospace+topic + '"class="help icon"></i> </div>'+
                                    '<div class="description">'+subtopDescription+'</div>'+
                                    '<!--modals--><div id="' + subtoptitlenospace+topic+index+ '" class="ui modal" ><div class="header">'+subtoptitle+
                                    '</div><div class=" content"><div class="description"><div class="ui header">Modal Header</div>'+
                                     '<p>'+subtopModal+'</p>'+'</div></div><div class="actions"><div class="ui primary approve button">Proceed<i class="right chevron icon"></i></div></div></div>'+
                                    '<div class="ui form">'+
                                    '<div class="inline fields" value="' + max + '">';

                             

               for(indey in choichesRound){

                    block = block + '<label>'+choichesRound[indey]+'</label>'+
                                  '<div class="field">'+
                                        '<div class="ui radio checkbox" value="'+valuesRound[indey]+'">'+
                                            '<input type="radio" name="Subtopic'+ index + json.topictitle +'" tabindex="0" class="hidden">'+
                                            '</div>'+
                                        '</div>';

               }   

            block = block + '</div>'+'</div>'+'</div>'+'</div>';                              
              
        }
        
        block = block + '</div>'+'</div>'+'</div>' ; 
    
        appendtocontainer(block);


    }

    function addProgressBar(){
        /*var block = '<!--Progress Bar--><div class="row"><div class="sixteen wide column"><h2 class="ui header">Privacy Score</h3><p>Question Answered: <span id="questionAnswered"><span></p><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis vel dapibus magna. Quisque non rhoncus nisi, in pulvinar massa. Sed mattis, est ac euismod euismod, nisi quam semper justo, non imperdiet lacus nulla quis lorem. Aenean non diam at eros faucibus sagittis ut eu nunc. Proin vel porttitor felis. Proin dapibus pharetra ornare.</p><div class="ui indicating progress sticky "><div class="bar"><div class="progress"></div></div><div class="label">Privacy Score</div></div></div></div>';

        appendtocontainer(block);*/

    }
    
    function appendtocontainer(content){
        $('#checkListContainer').append(content);
    }

    function initializeUi(){
            var modals = $('.ui.modal');

            //modal
            $('.help').click(function(event){
                id = event.target.id;

                if(event.target.id.indexOf('one')>0) id = id+'0';
                else if(event.target.id.indexOf('two')>0) id = id+'1';
                else if(event.target.id.indexOf('three')>0) id = id+'2';
                else if(event.target.id.indexOf('four')>0) id = id+'3';
                else if(event.target.id.indexOf('five')>0) id = id+'4';
                else if(event.target.id.indexOf('six')>0) id = id+'5';

                $('#'+id).modal('show');

            });
            

             //readmore
             $('#readmorebutton').click(function(){
                    var jthis = $(this),
                        targetId = jthis.attr('data-readmore');
                        jtarget = jQuery(targetId);

                    if(jtarget.is(':visible')) {jtarget.hide(); jthis.text('Read More..');}
                    else { jtarget.show(); jthis.text('Read Less..');}       

                           

             });               
        
            //checkbox
            $('.ui.radio.checkbox').checkbox({ onChecked: function() {
                updateprogressbar();
                updateQuestionsCount();
                },
            }); 
        
        }


    function updateprogressbar(){     
        var totalChecked = 0,
            total = 0;

        //get checked total    
        $('.ui.radio.checkbox').each(function(index,item){
            var jitem = $(item)    
            
            if( jitem.hasClass('checked')){ totalChecked =totalChecked +  parseInt(jitem.attr('value')); };

        });
        
        //get total
        $('.inline.fields').each(function(index,item){ total = total + parseInt($(item).attr('value'))});


        var  percentage = map_range(totalChecked,0,total,0,100);
        
        //progressupdate 
        $('.ui.indicating.progress').progress({ percent: percentage });

    } 
    function updateQuestionsCount(){     
        var totalChecked = $('.checkbox').filter('.checked').length,
            totalQuestions =  $('.inline.fields').length;

            $('#questionAnswered').html(totalChecked+'/'+ totalQuestions);
        
    } 
    function map_range(value, low1, high1, low2, high2) {
            return low2 + (high2 - low2) * (value - low1) / (high1 - low1);
    }


	$(document)
		.ready(function() {
            
		// fix menu when passed
		$('.masthead')
			.visibility({
			once: false,
			onBottomPassed: function() {
				$('.fixed.menu').transition('fade in');
			},
			onBottomPassedReverse: function() {
				$('.fixed.menu').transition('fade out');
			}
			})
		;

		// create sidebar and attach to menu open
		$('.ui.sidebar')
			.sidebar('attach events', '.toc.item')
		;

        });
	</script>
</head>
<body data-gr-c-s-loaded="true" class="pushable">

<!-- Following Menu -->
<div class="ui large top fixed hidden menu">
  <div class="ui container">
    <a class="item" href="index.html" >Home</a>
    <a class="item"  href="About.html">About</a>
    <a class="active item" href="checklist.html" >Checklist</a>
   
  </div>
</div>

<!-- Sidebar Menu -->
<div class="ui vertical inverted sidebar menu left">
  <a class="item" href="index.html" >Home</a>
  <a class="item"  href="About.html">About</a>
  <a class="active item" href="checklist.html">Checklist</a>

</div>


<!--Page Contents -->
<div class="pusher">

  <div class="ui inverted vertical center aligned segment masthead" >

    <div class="ui container">
      <div class="ui large secondary inverted pointing menu">
        <a class="toc item">
          <i class="sidebar icon"></i>
        </a>
        <a class="item" href="index.html" >Home</a>
        <a class="item" href="About.html" >About</a>
        <a class="active item" href="checklist.html">Checklist</a>
        
      </div>
    </div>

  </div>
    
    <!--central element-->
    <div  class="ui vertical stripe segment">

        <div  id="checkListContainer" class="ui middle aligned stackable grid container">
        
        <div class="row">

            <div class="ten wide column">
             <h1 id="checklisttitle" class="ui header" data-edited="false">Privacy Checklist</h1>
             <div id="checklisttopic" data-edited="false">
                 <p >We looked at the user journey as a way to structure our content, the first topic we discuss is related to the information the user receives at first contact then the journey moves on, the user registers giving consent to an intial set of data, after we explore the different roles and responsabilities users can have within Digital Health and what this mean for privacy,  the core section is related to Data Managment ( access, validity, transfer, storage and delition), and finally ...		</p>
             </div>
            </div>
            <div class="one wide column"></div>
            <div class="overlay" >
                <div class="four wide column ui labeled icon vertical menu" style="position: fixed; top: 190px; left: auto; z-index: 10;">
                    <div class="ui top attached label">Menu</div>                   
                    <a class="item" href="#first">1. INFORMATION</a>
                    <a class="item" href="#second">2. DATA CONSENT</a>
                    <a class="item" href="#third">3. ROLES AND RESPONSABILITIES</a>
                    <a class="item" href="#fourth">3. DATA MANAGMENT</a>
                    <a class="item" href="#fifth">3. SECURITY</a>
                     <div class="item">
                        <div class="ui indicating progress sticky "><div class="bar"><div class="progress"></div></div><div class="label">Privacy Score</div></div>
                    </div>
                    <div class= "item">
                        <div >Question Answered: <span id="questionAnswered">0/20<span></div>
                    </div>
                </div>
                </div><div class="overlay placeholder" style="display: none; ">
            </div>

        </div>



     
        <!--content will be added here -->


    </div>


  
    </div>

  </div>

 

</div>
    
  <div class="ui inverted vertical footer segment">
    <div class="ui container">
      <div class="ui stackable inverted divided equal height stackable grid">
        <div class="three wide column">
          <h4 class="ui inverted header">About</h4>
          <div class="ui inverted link list">
            <!--<a href="http://semantic-ui.com/examples/homepage.html#" class="item">Sitemap</a>-->
            <a href="About.html" class="item">Contact Us</a>
            <!--<a href="http://semantic-ui.com/examples/homepage.html#" class="item">Religious Ceremonies</a>
            <a href="http://semantic-ui.com/examples/homepage.html#" class="item">Gazebo Plans</a>-->
          </div>
        </div>
        <!--<div class="three wide column">
          <h4 class="ui inverted header">Services</h4>
          <div class="ui inverted link list">
            <a href="http://semantic-ui.com/examples/homepage.html#" class="item">Banana Pre-Order</a>
            <a href="http://semantic-ui.com/examples/homepage.html#" class="item">DNA FAQ</a>
            <a href="http://semantic-ui.com/examples/homepage.html#" class="item">How To Access</a>
            <a href="http://semantic-ui.com/examples/homepage.html#" class="item">Favorite X-Men</a>
          </div>
        </div>-->
        <div class="seven wide column">
          <h4 class="ui inverted header">Privacy Checklist</h4>
          <p  id="maindescription">A Human-Factor related source to help Digital Health developers and innovators to cover all fundamental privacy and security requirements. Just by following the steps of this checklist.Start</p>
        </div>
      </div>
    </div>
  </div>
</div> 




</body><span class="gr__tooltip"><span class="gr__tooltip-content"></span><i class="gr__tooltip-logo"></i><span class="gr__triangle"></span></span></html>

